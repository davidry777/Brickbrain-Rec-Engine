{
  "TrainingJobName": "lego-embeddings-{timestamp}",
  "RoleArn": "arn:aws:iam::{account}:role/SageMakerExecutionRole",
  "AlgorithmSpecification": {
    "TrainingImage": "763104351884.dkr.ecr.us-west-2.amazonaws.com/pytorch-training:1.12.1-gpu-py38-cu113-ubuntu20.04-sagemaker",
    "TrainingInputMode": "File"
  },
  "InputDataConfig": [
    {
      "ChannelName": "training",
      "DataSource": {
        "S3DataSource": {
          "S3DataType": "S3Prefix",
          "S3Uri": "s3://{your-bucket}/lego-data/",
          "S3DataDistributionType": "FullyReplicated"
        }
      },
      "ContentType": "application/json"
    }
  ],
  "OutputDataConfig": {
    "S3OutputPath": "s3://{your-bucket}/lego-embeddings-output/"
  },
  "ResourceConfig": {
    "InstanceType": "ml.p3.2xlarge",
    "InstanceCount": 1,
    "VolumeSizeInGB": 30
  },
  "StoppingCondition": {
    "MaxRuntimeInSeconds": 3600
  },
  "HyperParameters": {
    "model": "sentence-transformers/all-MiniLM-L6-v2",
    "batch-size": "512"
  },
  "Environment": {
    "PYTHONPATH": "/opt/ml/code/src/scripts"
  }
}
